

**23I2560**
**EMAAN ARSHAD**
**BAI-5A**
**DB - A2**




### **Q1.**

**A. Identify all primary Entities and their corresponding Attributes from the scenario.**
(Underline the Primary Key for each entity)

**Film**
a. *FilmID*
b. Title
c. Budget
d. ReleaseDate
e. DirectorName

**Actor**
a. *ActorID*
b. Name
c. Phone

**ProductionCompany**
a. *CompanyID*
b. Name

---

**B. Identify the three main Relationships and their Cardinality**

**Film – Actor**
a. Relationship: Casts
b. Cardinality: M:N
c. Reason: A film can have many actors; an actor can be in many films.

**Film – ProductionCompany**
a. Relationship: FundedBy
b. Cardinality: M:N
c. Reason: A film can be funded by many companies; a company can fund many films.

**Film – Director**
a. Director is an attribute of Film, not a separate entity.
b. No separate relationship table for Directors.



**C. Associative Entity to resolve M:N Relationship**

**Associative Entity Name:** Casting
**Attributes:**
a. FilmID (FK to Film)
b. ActorID (FK to Actor)
c. CharacterName
**PK:** Composite (FilmID, ActorID)



**D. Explanation for not creating a separate Director entity**
DirectorName remains an attribute of Film because no additional director details are stored. Storing it directly avoids unnecessary complexity since business rules don’t require tracking directors independently.



### **Q2.**

**Entities and Their Attributes**

**AIRLINE**
*AirlineCode*
AirlineName
Country

**CITY**
*CityID*
CityName
Country

**FLIGHT**
*FlightNumber*
AirlineCode
BusinessClassIndicator
SmokingAllowedIndicator
OriginCityID (FK to CITY)
DestinationCityID (FK to CITY)

**FLIGHT_AVAILABILITY**
*FlightNumber*
AirlineCode
DepartureDateTime
TotalBusinessSeats
BookedBusinessSeats
TotalEconomySeats
BookedEconomySeats

**CUSTOMER**
*CustomerID*
FirstName
LastName
Street
City
ProvinceState
PostalCode
Country

**CUSTOMER_PHONE (Weak Entity)**
*CustomerID* (FK to CUSTOMER)
*PhoneNumber*

**CUSTOMER_FAX (Weak Entity)**
*CustomerID* (FK to CUSTOMER)
*FaxNumber*

**CUSTOMER_EMAIL (Weak Entity)**
*CustomerID* (FK to CUSTOMER)
*EmailAddress*

**CURRENCY**
*CurrencyCode*
CurrencyName

**EXCHANGE_RATE**
*CurrencyCode* (FK to CURRENCY)
*Date*
RateToUSD

**BOOKING**
*BookingNumber*
BookingCityID (FK to CITY)
BookingDate
FlightNumber (FK to FLIGHT)
AirlineCode (FK to FLIGHT)
DepartureDateTime (FK to FLIGHT_AVAILABILITY)
ArrivalDateTime
ClassIndicator
FlightPrice
OriginAirportTax
DestinationAirportTax
TotalPrice
Status
ResponsibleCustomerID (FK to CUSTOMER)
AmountPaidSoFar
OutstandingBalance
TicketFirstName
TicketLastName

---

**Relationships and Cardinality**

**AIRLINE operates FLIGHT (1:M)**
One airline operates many flights; each flight belongs to one airline.

**FLIGHT has FLIGHT_AVAILABILITY (1:M)**
Each flight route has many availability instances by date/time.

**CUSTOMER makes BOOKING (1:M)**
One customer can make many bookings; each booking has one customer.

**FLIGHT_AVAILABILITY booked by BOOKING (1:M)**
Each specific flight instance can have many bookings; each booking belongs to one flight instance.

**CITY is origin/destination for FLIGHT (M:N)**
Handled through OriginCityID and DestinationCityID; effectively two M:1 relationships.

**CUSTOMER has PHONE/FAX/EMAIL (1:M each)**
Each customer can have multiple phone numbers, faxes, and emails.


### **Q3.**

**a. Data Anomalies**

**Insertion Anomaly:** Cannot add a school until at least one teacher is assigned.
**Deletion Anomaly:** Deleting a teacher’s record may remove the only reference to a school.
**Update Anomaly:** Changing a school name requires multiple updates, risking inconsistency.


**b. Normalization Process**

**Step 1: Functional Dependencies**

1. schoolID → schoolName, schoolCity
2. NIN → tName
3. contractNo, NIN, schoolID → hours

**Step 2: 1NF**
Already atomic;
Assignment (contractNo, NIN, schoolID, hours, tName, schoolName, schoolCity)
PK: (contractNo, NIN, schoolID)

**Step 3: 2NF**
Remove partial dependencies.

* schoolID → schoolName, schoolCity
* NIN → tName

**Relations:**

1. School (schoolID, schoolName, schoolCity)
2. Teacher (NIN, tName)
3. Assignment (contractNo, NIN, schoolID, hours)

**Step 4: 3NF**
No transitive dependencies remain.

**Final 3NF Schema:**

1. Teacher (NIN, tName)
2. School (schoolID, schoolName, schoolCity)
3. Assignment (contractNo, NIN, schoolID, hours)



### **Q4.**

**A. Primary Key (PK)**
FilmID, ActorID

**B. Highest Normal Form Violated**
Violates 2NF due to partial dependencies (FilmID → FilmTitle, DirectorName; ActorID → ActorName, AgentID).

**C. 2NF Decomposition**

1. FILM (FilmID, FilmTitle, DirectorName)
2. ACTOR (ActorID, ActorName, AgentID)
3. CASTING (FilmID, ActorID)

**D. 3NF Decomposition**

1. FILM (FilmID, FilmTitle, DirectorName)
2. ACTOR (ActorID, ActorName, AgentID)
3. AGENT (AgentID, AgentPhone)
4. CASTING (FilmID, ActorID)

**E. Type of Anomaly Caused by Repeated AgentPhone**
Update Anomaly

---

### **Q5.**

**1. Functional Dependencies**

1. StudentID → FirstName, LastName, Address
2. CourseID → CourseName, Credits, InstructorName
3. StudentID, CourseID → EnrollmentDate

---

**2. Normalization Process**

**Unnormalized Form:**
Enrollment (StudentID, FirstName, LastName, Address, CourseID, CourseName, Credits, InstructorName, EnrollmentDate)
PK: (StudentID, CourseID)

**1NF:** Atomic values.

**2NF:** Remove partial dependencies.

* Student → StudentID attributes
* Course → CourseID attributes

**Decompose:**

1. Student (StudentID, FirstName, LastName, Address)
2. Course (CourseID, CourseName, Credits, InstructorName)
3. Enrollment (StudentID, CourseID, EnrollmentDate)

**3NF:** No transitive dependencies.

**Final 3NF Relations:**

1. Student (StudentID, FirstName, LastName, Address)
2. Course (CourseID, CourseName, Credits, InstructorName)
3. Enrollment (StudentID, CourseID, EnrollmentDate)


**3. Keys**

**Primary Keys:**
Student – StudentID
Course – CourseID
Enrollment – (StudentID, CourseID)

**Alternate Key:**
CourseName (assumed unique)

**Foreign Keys:**
Enrollment.StudentID → Student.StudentID
Enrollment.CourseID → Course.CourseID
